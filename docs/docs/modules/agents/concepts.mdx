from dataclasses import dataclass

@dataclass
class AgentAction:
    tool: str
    tool_input: str


class AgentFinish:
    def __init__(self, return_values):
        self.return_values = return_values


from typing import List, Tuple

IntermediateSteps = List[Tuple[AgentAction, Any]]


AgentInputs = dict[str, Any]


from typing import Union

AgentOutputs = Union[AgentAction, List[AgentAction], AgentFinish]


next_action = agent.get_action(...)
while next_action != AgentFinish:
    observation = run(next_action)
    next_action = agent.get_action(..., next_action, observation)
return next_action


class AgentExecutor:
    def __init__(self, agent):
        self.agent = agent

    def run(self):
        next_action = self.agent.get_action()
        while next_action != AgentFinish:
            observation = run(next_action)
            next_action = self.agent.get_action(next_action, observation)
        return next_action


from typing import Callable

class Tool:
    def __init__(self, input_schema, function: Callable):
        self.input_schema = input_schema
        self.function = function


class Toolkit:
    def __init__(self, tools):
        self.tools = tools
